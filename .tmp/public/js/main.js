"use strict";var map,restaurants=void 0,neighborhoods=void 0,cuisines=void 0,markers=[];document.addEventListener("DOMContentLoaded",function(e){fetchNeighborhoods(),fetchCuisines()});var fetchNeighborhoods=function(){DBHelper.fetchNeighborhoods(function(e,t){e?console.error(e):(self.neighborhoods=t,fillNeighborhoodsHTML())})},fillNeighborhoodsHTML=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.neighborhoods,n=document.getElementById("neighborhoods-select");e.forEach(function(e){var t=document.createElement("option");t.innerHTML=e,t.value=e,n.append(t)})},fetchCuisines=function(){DBHelper.fetchCuisines(function(e,t){e?console.error(e):(self.cuisines=t,fillCuisinesHTML())})},fillCuisinesHTML=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.cuisines,n=document.getElementById("cuisines-select");e.forEach(function(e){var t=document.createElement("option");t.innerHTML=e,t.value=e,n.append(t)})};window.initMap=function(){self.map=new google.maps.Map(document.getElementById("map"),{zoom:12,center:{lat:40.722216,lng:-73.987501},scrollwheel:!1}),updateRestaurants()};var updateRestaurants=function(){var e=document.getElementById("cuisines-select"),t=document.getElementById("neighborhoods-select"),n=e.selectedIndex,r=t.selectedIndex,a=e[n].value,s=t[r].value;DBHelper.fetchRestaurantByCuisineAndNeighborhood(a,s,function(e,t){e?console.error(e):(resetRestaurants(t),fillRestaurantsHTML())})},resetRestaurants=function(e){self.restaurants=[],document.getElementById("restaurants-list").innerHTML="",self.markers.forEach(function(e){return e.setMap(null)}),self.markers=[],self.restaurants=e},fillRestaurantsHTML=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.restaurants,t=document.getElementById("restaurants-list");e.forEach(function(e){t.append(createRestaurantHTML(e))}),addMarkersToMap()},createRestaurantHTML=function(e){var t=document.createElement("li"),n=document.createElement("picture");t.append(n);var r=document.createElement("source");r.media="(min-width: 750px)",r.srcset=DBHelper.imageUrlForRestaurant(e)+"-800_large.webp",r.type="image/webp",n.append(r);var a=document.createElement("source");a.media="(min-width: 750px)",a.srcset=DBHelper.imageUrlForRestaurant(e)+"-800_large.jpg",a.type="image/jpeg",n.append(a);var s=document.createElement("source");s.media="(min-width: 500px)",s.srcset=DBHelper.imageUrlForRestaurant(e)+"_medium.webp",s.type="image/webp",n.append(s);var o=document.createElement("source");o.media="(min-width: 500px)",o.srcset=DBHelper.imageUrlForRestaurant(e)+"_medium.jpg",o.type="image/jpeg",n.append(o);var i=document.createElement("source");i.srcset=DBHelper.imageUrlForRestaurant(e)+".webp",i.type="image/webp",n.append(i);var c=document.createElement("img");c.className="restaurant-img",c.src=DBHelper.imageUrlForRestaurant(e)+".jpg",c.alt=e.name+" is a "+e.cuisine_type+" restaurant in "+e.address+".",n.append(c);var l=document.createElement("h3");l.innerHTML=e.name,t.append(l);var u=document.createElement("p");u.innerHTML=e.neighborhood,t.append(u);var d=document.createElement("p");d.innerHTML=e.address,t.append(d);var m=document.createElement("a");return m.innerHTML="View Details",m.setAttribute("role","button"),m.setAttribute("aria-label",e.name),m.href=DBHelper.urlForRestaurant(e),t.append(m),t},addMarkersToMap=function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.restaurants).forEach(function(e){var t=DBHelper.mapMarkerForRestaurant(e,self.map);google.maps.event.addListener(t,"click",function(){window.location.href=t.url}),self.markers.push(t)})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibmVpZ2hib3Job29kcyIsInJlc3RhdXJhbnRzIiwiY3Vpc2luZXMiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImZldGNoTmVpZ2hib3Job29kcyIsIkRCSGVscGVyIiwiZXJyb3IiLCJzZWxmIiwiY29uc29sZSIsImZpbGxOZWlnaGJvcmhvb2RzSFRNTCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInNlbGVjdCIsImdldEVsZW1lbnRCeUlkIiwiZm9yRWFjaCIsIm5laWdoYm9yaG9vZCIsImNyZWF0ZUVsZW1lbnQiLCJvcHRpb24iLCJ2YWx1ZSIsImZldGNoQ3Vpc2luZXMiLCJmaWxsQ3Vpc2luZXNIVE1MIiwiY3Vpc2luZSIsImlubmVySFRNTCIsIm1hcCIsImdvb2dsZSIsIm1hcHMiLCJNYXAiLCJ6b29tIiwiY2VudGVyIiwiYXBwZW5kIiwibGF0IiwibG5nIiwid2luZG93Iiwic2Nyb2xsd2hlZWwiLCJjU2VsZWN0IiwidXBkYXRlUmVzdGF1cmFudHMiLCJjSW5kZXgiLCJzZWxlY3RlZEluZGV4IiwibkluZGV4IiwiblNlbGVjdCIsInJlc2V0UmVzdGF1cmFudHMiLCJtYXJrZXJzIiwibSIsInNldE1hcCIsImZpbGxSZXN0YXVyYW50c0hUTUwiLCJyZXN0YXVyYW50IiwidWwiLCJjcmVhdGVSZXN0YXVyYW50SFRNTCIsImxhcmdlU291cmNlV2VicCIsImFkZE1hcmtlcnNUb01hcCIsInNyY3NldCIsImltYWdlVXJsRm9yUmVzdGF1cmFudCIsInR5cGUiLCJwaWN0dXJlIiwibGFyZ2VTb3VyY2UiLCJtZWRpdW1Tb3VyY2VXZWJwIiwibWVkaWEiLCJtZWRpdW1Tb3VyY2UiLCJzb3VyY2VXZWJwIiwiaW1hZ2UiLCJjbGFzc05hbWUiLCJuYW1lIiwiY3Vpc2luZV90eXBlIiwiYWRkcmVzcyIsImxpIiwic3JjIiwibW9yZSIsImhyZWYiLCJ1cmxGb3JSZXN0YXVyYW50Iiwic2V0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QUFJLEdBZUEsSUFBTUcsRUFBT2xFLFNBQVNnQixjQUFjLEtBTnBDZ0QsT0FOQUUsRUFBTUwsVUFBTzdELGVBQ2I2RCxFQUFLdkMsYUFBWXVCLE9BQUFBLFVBQ2pCbUIsRUFBR25DLGFBQUgsYUFBQWdCLEVBQUFnQixNQWNBSyxFQUFLQyxLQUFPL0QsU0FBU2dFLGlCQUFpQnZCLEdBWnRDbUIsRUFBQW5DLE9BQU1kLEdBRUhjLEdBTUhvQixnQkFBc0JqQyxZQUF0QixFQUFBUCxVQUFBQyxhQUFBQyxJQUFBRixVQUFBLEdBQUFBLFVBQUEsR0FBb0NILEtBQXBDUixhQUNLd0IsUUFBWSxTQUFBdUIsR0FFakJxQixJQUFLRyxFQUFMakUsU0FBa0JrRSx1QkFBbEJ6QixFQUFBdkMsS0FBQWlCLEtBQ0EyQyxPQUFBekMsS0FBWXJCLE1BQUFBLFlBQVNnRSxFQUFpQnZCLFFBQXRDLFdBQ0doQixPQUFPcUMsU0FBVkMsS0FBQUksRUFBQUMsTUFFQWxFLEtBQU8wRCxRQUFQUyxLQUFBRiIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IHJlc3RhdXJhbnRzLFxuICBuZWlnaGJvcmhvb2RzLFxuICBjdWlzaW5lcztcbnZhciBtYXA7XG52YXIgbWFya2VycyA9IFtdO1xuXG4vKipcbiAqIEZldGNoIG5laWdoYm9yaG9vZHMgYW5kIGN1aXNpbmVzIGFzIHNvb24gYXMgdGhlIHBhZ2UgaXMgbG9hZGVkLlxuICovXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKGV2ZW50KSA9PiB7XG4gIGZldGNoTmVpZ2hib3Job29kcygpO1xuICBmZXRjaEN1aXNpbmVzKCk7XG59KTtcblxuLyoqXG4gKiBGZXRjaCBhbGwgbmVpZ2hib3Job29kcyBhbmQgc2V0IHRoZWlyIEhUTUwuXG4gKi9cbnZhciBmZXRjaE5laWdoYm9yaG9vZHMgPSAoKSA9PiB7XG4gIERCSGVscGVyLmZldGNoTmVpZ2hib3Job29kcygoZXJyb3IsIG5laWdoYm9yaG9vZHMpID0+IHtcbiAgICBpZiAoZXJyb3IpIHsgLy8gR290IGFuIGVycm9yXG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5uZWlnaGJvcmhvb2RzID0gbmVpZ2hib3Job29kcztcbiAgICAgIGZpbGxOZWlnaGJvcmhvb2RzSFRNTCgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKipcbiAqIFNldCBuZWlnaGJvcmhvb2RzIEhUTUwuXG4gKi9cbnZhciBmaWxsTmVpZ2hib3Job29kc0hUTUwgPSAobmVpZ2hib3Job29kcyA9IHNlbGYubmVpZ2hib3Job29kcykgPT4ge1xuICBjb25zdCBzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVpZ2hib3Job29kcy1zZWxlY3QnKTtcbiAgbmVpZ2hib3Job29kcy5mb3JFYWNoKG5laWdoYm9yaG9vZCA9PiB7XG4gICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgb3B0aW9uLmlubmVySFRNTCA9IG5laWdoYm9yaG9vZDtcbiAgICBvcHRpb24udmFsdWUgPSBuZWlnaGJvcmhvb2Q7XG4gICAgc2VsZWN0LmFwcGVuZChvcHRpb24pO1xuICB9KTtcbn07XG5cbi8qKlxuICogRmV0Y2ggYWxsIGN1aXNpbmVzIGFuZCBzZXQgdGhlaXIgSFRNTC5cbiAqL1xudmFyIGZldGNoQ3Vpc2luZXMgPSAoKSA9PiB7XG4gIERCSGVscGVyLmZldGNoQ3Vpc2luZXMoKGVycm9yLCBjdWlzaW5lcykgPT4ge1xuICAgIGlmIChlcnJvcikgeyAvLyBHb3QgYW4gZXJyb3IhXG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5jdWlzaW5lcyA9IGN1aXNpbmVzO1xuICAgICAgZmlsbEN1aXNpbmVzSFRNTCgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKipcbiAqIFNldCBjdWlzaW5lcyBIVE1MLlxuICovXG52YXIgZmlsbEN1aXNpbmVzSFRNTCA9IChjdWlzaW5lcyA9IHNlbGYuY3Vpc2luZXMpID0+IHtcbiAgY29uc3Qgc2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1aXNpbmVzLXNlbGVjdCcpO1xuXG4gIGN1aXNpbmVzLmZvckVhY2goY3Vpc2luZSA9PiB7XG4gICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgb3B0aW9uLmlubmVySFRNTCA9IGN1aXNpbmU7XG4gICAgb3B0aW9uLnZhbHVlID0gY3Vpc2luZTtcbiAgICBzZWxlY3QuYXBwZW5kKG9wdGlvbik7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBJbml0aWFsaXplIEdvb2dsZSBtYXAsIGNhbGxlZCBmcm9tIEhUTUwuXG4gKi9cbndpbmRvdy5pbml0TWFwID0gKCkgPT4ge1xuICBsZXQgbG9jID0ge1xuICAgIGxhdDogNDAuNzIyMjE2LFxuICAgIGxuZzogLTczLjk4NzUwMVxuICB9O1xuICBzZWxmLm1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpLCB7XG4gICAgem9vbTogMTIsXG4gICAgY2VudGVyOiBsb2MsXG4gICAgc2Nyb2xsd2hlZWw6IGZhbHNlXG4gIH0pO1xuICB1cGRhdGVSZXN0YXVyYW50cygpO1xufTtcblxuLyoqXG4gKiBVcGRhdGUgcGFnZSBhbmQgbWFwIGZvciBjdXJyZW50IHJlc3RhdXJhbnRzLlxuICovXG52YXIgdXBkYXRlUmVzdGF1cmFudHMgPSAoKSA9PiB7XG4gIGNvbnN0IGNTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3Vpc2luZXMtc2VsZWN0Jyk7XG4gIGNvbnN0IG5TZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVpZ2hib3Job29kcy1zZWxlY3QnKTtcblxuICBjb25zdCBjSW5kZXggPSBjU2VsZWN0LnNlbGVjdGVkSW5kZXg7XG4gIGNvbnN0IG5JbmRleCA9IG5TZWxlY3Quc2VsZWN0ZWRJbmRleDtcblxuICBjb25zdCBjdWlzaW5lID0gY1NlbGVjdFtjSW5kZXhdLnZhbHVlO1xuICBjb25zdCBuZWlnaGJvcmhvb2QgPSBuU2VsZWN0W25JbmRleF0udmFsdWU7XG5cbiAgREJIZWxwZXIuZmV0Y2hSZXN0YXVyYW50QnlDdWlzaW5lQW5kTmVpZ2hib3Job29kKGN1aXNpbmUsIG5laWdoYm9yaG9vZCwgKGVycm9yLCByZXN0YXVyYW50cykgPT4ge1xuICAgIGlmIChlcnJvcikgeyAvLyBHb3QgYW4gZXJyb3IhXG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzZXRSZXN0YXVyYW50cyhyZXN0YXVyYW50cyk7XG4gICAgICBmaWxsUmVzdGF1cmFudHNIVE1MKCk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogQ2xlYXIgY3VycmVudCByZXN0YXVyYW50cywgdGhlaXIgSFRNTCBhbmQgcmVtb3ZlIHRoZWlyIG1hcCBtYXJrZXJzLlxuICovXG52YXIgcmVzZXRSZXN0YXVyYW50cyA9IChyZXN0YXVyYW50cykgPT4ge1xuICAvLyBSZW1vdmUgYWxsIHJlc3RhdXJhbnRzXG4gIHNlbGYucmVzdGF1cmFudHMgPSBbXTtcbiAgY29uc3QgdWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdGF1cmFudHMtbGlzdCcpO1xuICB1bC5pbm5lckhUTUwgPSAnJztcblxuICAvLyBSZW1vdmUgYWxsIG1hcCBtYXJrZXJzXG4gIHNlbGYubWFya2Vycy5mb3JFYWNoKG0gPT4gbS5zZXRNYXAobnVsbCkpO1xuICBzZWxmLm1hcmtlcnMgPSBbXTtcbiAgc2VsZi5yZXN0YXVyYW50cyA9IHJlc3RhdXJhbnRzO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYWxsIHJlc3RhdXJhbnRzIEhUTUwgYW5kIGFkZCB0aGVtIHRvIHRoZSB3ZWJwYWdlLlxuICovXG52YXIgZmlsbFJlc3RhdXJhbnRzSFRNTCA9IChyZXN0YXVyYW50cyA9IHNlbGYucmVzdGF1cmFudHMpID0+IHtcbiAgY29uc3QgdWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdGF1cmFudHMtbGlzdCcpO1xuICByZXN0YXVyYW50cy5mb3JFYWNoKHJlc3RhdXJhbnQgPT4ge1xuICAgIHVsLmFwcGVuZChjcmVhdGVSZXN0YXVyYW50SFRNTChyZXN0YXVyYW50KSk7XG4gIH0pO1xuICBhZGRNYXJrZXJzVG9NYXAoKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIHJlc3RhdXJhbnQgSFRNTC5cbiAqL1xudmFyIGNyZWF0ZVJlc3RhdXJhbnRIVE1MID0gKHJlc3RhdXJhbnQpID0+IHtcbiAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuXG4gIGNvbnN0IHBpY3R1cmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwaWN0dXJlJyk7XG4gIGxpLmFwcGVuZChwaWN0dXJlKTtcblxuICBjb25zdCBsYXJnZVNvdXJjZVdlYnAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKTtcbiAgbGFyZ2VTb3VyY2VXZWJwLm1lZGlhID0gJyhtaW4td2lkdGg6IDc1MHB4KSc7XG4gIGxhcmdlU291cmNlV2VicC5zcmNzZXQgPSBEQkhlbHBlci5pbWFnZVVybEZvclJlc3RhdXJhbnQocmVzdGF1cmFudCkgKyAnLTgwMF9sYXJnZS53ZWJwJztcbiAgbGFyZ2VTb3VyY2VXZWJwLnR5cGUgPSAnaW1hZ2Uvd2VicCc7XG4gIHBpY3R1cmUuYXBwZW5kKGxhcmdlU291cmNlV2VicCk7XG5cbiAgY29uc3QgbGFyZ2VTb3VyY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKTtcbiAgbGFyZ2VTb3VyY2UubWVkaWEgPSAnKG1pbi13aWR0aDogNzUwcHgpJztcbiAgbGFyZ2VTb3VyY2Uuc3Jjc2V0ID0gREJIZWxwZXIuaW1hZ2VVcmxGb3JSZXN0YXVyYW50KHJlc3RhdXJhbnQpICsgJy04MDBfbGFyZ2UuanBnJztcbiAgbGFyZ2VTb3VyY2UudHlwZSA9ICdpbWFnZS9qcGVnJztcbiAgcGljdHVyZS5hcHBlbmQobGFyZ2VTb3VyY2UpO1xuXG4gIGNvbnN0IG1lZGl1bVNvdXJjZVdlYnAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKTtcbiAgbWVkaXVtU291cmNlV2VicC5tZWRpYSA9ICcobWluLXdpZHRoOiA1MDBweCknO1xuICBtZWRpdW1Tb3VyY2VXZWJwLnNyY3NldCA9IERCSGVscGVyLmltYWdlVXJsRm9yUmVzdGF1cmFudChyZXN0YXVyYW50KSArICdfbWVkaXVtLndlYnAnO1xuICBtZWRpdW1Tb3VyY2VXZWJwLnR5cGUgPSAnaW1hZ2Uvd2VicCc7XG4gIHBpY3R1cmUuYXBwZW5kKG1lZGl1bVNvdXJjZVdlYnApO1xuXG4gIGNvbnN0IG1lZGl1bVNvdXJjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpO1xuICBtZWRpdW1Tb3VyY2UubWVkaWEgPSAnKG1pbi13aWR0aDogNTAwcHgpJztcbiAgbWVkaXVtU291cmNlLnNyY3NldCA9IERCSGVscGVyLmltYWdlVXJsRm9yUmVzdGF1cmFudChyZXN0YXVyYW50KSArICdfbWVkaXVtLmpwZyc7XG4gIG1lZGl1bVNvdXJjZS50eXBlID0gJ2ltYWdlL2pwZWcnO1xuICBwaWN0dXJlLmFwcGVuZChtZWRpdW1Tb3VyY2UpO1xuXG4gIGNvbnN0IHNvdXJjZVdlYnAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKTtcbiAgc291cmNlV2VicC5zcmNzZXQgPSBEQkhlbHBlci5pbWFnZVVybEZvclJlc3RhdXJhbnQocmVzdGF1cmFudCkgKyAnLndlYnAnO1xuICBzb3VyY2VXZWJwLnR5cGUgPSAnaW1hZ2Uvd2VicCc7XG4gIHBpY3R1cmUuYXBwZW5kKHNvdXJjZVdlYnApO1xuXG4gIGNvbnN0IGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gIGltYWdlLmNsYXNzTmFtZSA9ICdyZXN0YXVyYW50LWltZyc7XG4gIGltYWdlLnNyYyA9IERCSGVscGVyLmltYWdlVXJsRm9yUmVzdGF1cmFudChyZXN0YXVyYW50KSArICcuanBnJztcbiAgaW1hZ2UuYWx0ID0gcmVzdGF1cmFudC5uYW1lICsgJyBpcyBhICcgKyByZXN0YXVyYW50LmN1aXNpbmVfdHlwZSArICcgcmVzdGF1cmFudCBpbiAnICsgcmVzdGF1cmFudC5hZGRyZXNzICsgJy4nO1xuICBwaWN0dXJlLmFwcGVuZChpbWFnZSk7XG5cbiAgY29uc3QgbmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gIG5hbWUuaW5uZXJIVE1MID0gcmVzdGF1cmFudC5uYW1lO1xuICBsaS5hcHBlbmQobmFtZSk7XG5cbiAgY29uc3QgbmVpZ2hib3Job29kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICBuZWlnaGJvcmhvb2QuaW5uZXJIVE1MID0gcmVzdGF1cmFudC5uZWlnaGJvcmhvb2Q7XG4gIGxpLmFwcGVuZChuZWlnaGJvcmhvb2QpO1xuXG4gIGNvbnN0IGFkZHJlc3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIGFkZHJlc3MuaW5uZXJIVE1MID0gcmVzdGF1cmFudC5hZGRyZXNzO1xuICBsaS5hcHBlbmQoYWRkcmVzcyk7XG5cbiAgY29uc3QgbW9yZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgbW9yZS5pbm5lckhUTUwgPSAnVmlldyBEZXRhaWxzJztcbiAgbW9yZS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XG4gIG1vcmUuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgcmVzdGF1cmFudC5uYW1lKTtcbiAgbW9yZS5ocmVmID0gREJIZWxwZXIudXJsRm9yUmVzdGF1cmFudChyZXN0YXVyYW50KTtcbiAgbGkuYXBwZW5kKG1vcmUpO1xuXG4gIHJldHVybiBsaTtcbn07XG5cbi8qKlxuICogQWRkIG1hcmtlcnMgZm9yIGN1cnJlbnQgcmVzdGF1cmFudHMgdG8gdGhlIG1hcC5cbiAqL1xudmFyIGFkZE1hcmtlcnNUb01hcCA9IChyZXN0YXVyYW50cyA9IHNlbGYucmVzdGF1cmFudHMpID0+IHtcbiAgcmVzdGF1cmFudHMuZm9yRWFjaChyZXN0YXVyYW50ID0+IHtcbiAgICAvLyBBZGQgbWFya2VyIHRvIHRoZSBtYXBcbiAgICBjb25zdCBtYXJrZXIgPSBEQkhlbHBlci5tYXBNYXJrZXJGb3JSZXN0YXVyYW50KHJlc3RhdXJhbnQsIHNlbGYubWFwKTtcbiAgICBnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihtYXJrZXIsICdjbGljaycsICgpID0+IHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gbWFya2VyLnVybDtcbiAgICB9KTtcbiAgICBzZWxmLm1hcmtlcnMucHVzaChtYXJrZXIpO1xuICB9KTtcbn07XG4iXX0=
