"use strict";var _createClass=function(){function u(e,n){for(var t=0;t<n.length;t++){var u=n[t];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}return function(e,n,t){return n&&u(e.prototype,n),t&&u(e,t),e}}();function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var DBHelper=function(){function i(){_classCallCheck(this,i)}return _createClass(i,null,[{key:"fetchRestaurants",value:function(t){var u=new XMLHttpRequest;u.open("GET",i.DATABASE_URL),u.onload=function(){if(200===u.status){var e=JSON.parse(u.responseText);t(null,e)}else{var n="Request failed. Returned status of "+u.status;t(n,null)}},u.send()}},{key:"fetchRestaurantById",value:function(u,r){i.fetchRestaurants(function(e,n){if(e)r(e,null);else{var t=n.find(function(e){return e.id==u});t?r(null,t):r("Restaurant does not exist",null)}})}},{key:"fetchRestaurantByCuisine",value:function(u,r){i.fetchRestaurants(function(e,n){if(e)r(e,null);else{var t=n.filter(function(e){return e.cuisine_type==u});r(null,t)}})}},{key:"fetchRestaurantByNeighborhood",value:function(u,r){i.fetchRestaurants(function(e,n){if(e)r(e,null);else{var t=n.filter(function(e){return e.neighborhood==u});r(null,t)}})}},{key:"fetchRestaurantByCuisineAndNeighborhood",value:function(u,r,a){i.fetchRestaurants(function(e,n){if(e)a(e,null);else{var t=n;"all"!=u&&(t=t.filter(function(e){return e.cuisine_type==u})),"all"!=r&&(t=t.filter(function(e){return e.neighborhood==r})),a(null,t)}})}},{key:"fetchNeighborhoods",value:function(r){i.fetchRestaurants(function(e,t){if(e)r(e,null);else{var u=t.map(function(e,n){return t[n].neighborhood}),n=u.filter(function(e,n){return u.indexOf(e)==n});r(null,n)}})}},{key:"fetchCuisines",value:function(r){i.fetchRestaurants(function(e,t){if(e)r(e,null);else{var u=t.map(function(e,n){return t[n].cuisine_type}),n=u.filter(function(e,n){return u.indexOf(e)==n});r(null,n)}})}},{key:"urlForRestaurant",value:function(e){return"./restaurant?id="+e.id}},{key:"imageUrlForRestaurant",value:function(e){return null==e.photograph?"/img/missing-image":"/img/"+e.photograph}},{key:"mapMarkerForRestaurant",value:function(e,n){return new google.maps.Marker({position:e.latlng,title:e.name,url:i.urlForRestaurant(e),map:n,animation:google.maps.Animation.DROP})}},{key:"DATABASE_URL",get:function(){return"http://localhost:1337/restaurants"}}]),i}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiaGVscGVyLmpzIl0sIm5hbWVzIjpbIkRCSGVscGVyIiwiY2FsbGJhY2siLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJEQVRBQkFTRV9VUkwiLCJvbmxvYWQiLCJzdGF0dXMiLCJyZXNwb25zZVRleHQiLCJlcnJvciIsImpzb24iLCJKU09OIiwic2VuZCIsImlkIiwiZmV0Y2hSZXN0YXVyYW50cyIsInJlc3RhdXJhbnRzIiwicmVzdGF1cmFudCIsImZpbmQiLCJyIiwiY3Vpc2luZSIsInJlc3VsdHMiLCJmaWx0ZXIiLCJjdWlzaW5lX3R5cGUiLCJuZWlnaGJvcmhvb2QiLCJ2IiwiaSIsIm5laWdoYm9yaG9vZHMiLCJpbmRleE9mIiwidW5pcXVlTmVpZ2hib3Job29kcyIsImN1aXNpbmVzIiwibWFwIiwidW5pcXVlQ3Vpc2luZXMiLCJwaG90b2dyYXBoIiwiZ29vZ2xlIiwibWFwcyIsIk1hcmtlciIsInBvc2l0aW9uIiwibGF0bG5nIiwidGl0bGUiLCJuYW1lIiwidXJsIiwidXJsRm9yUmVzdGF1cmFudCIsImFuaW1hdGlvbiIsIkFuaW1hdGlvbiIsIkRST1AiXSwibWFwcGluZ3MiOiJpWUFHTUEsNEhBY29CQyxHQUh4QixJQUFBQyxFQUFBLElBQUFDLGVBS0VELEVBQUlFLEtBQUssTUFBT0osRUFBU0ssY0FDekJILEVBQUlJLE9BQVMsV0FDWCxHQUFtQixNQUFmSixFQUFJSyxPQUFnQixDQUgxQixJQUFJTCxFQUFVQyxLQUFBQSxNQUFBQSxFQUFkSyxjQUVBTixFQUFBLEtBRGdCRixPQUVWRSxDQUFzQixJQUFBTyxFQUFBQSxzQ0FBQVAsRUFBQUssT0FDeEJOLEVBQU1TLEVBQU9DLFFBR05ULEVBQUFVLG1EQU1YQyxFQUFBWixHQVFBRCxFQUFTYyxpQkFBaUIsU0FBQ0wsRUFBT00sR0FMcEMsR0FBQU4sRUFPTVIsRUFBU1EsRUFBTyxVQUNYLENBQ0wsSUFBTU8sRUFBYUQsRUFBWUUsS0FBSyxTQUFBQyxHQUFBLE9BQUtBLEVBQUVMLElBQU1BLElBQzdDRyxFQUNGZixFQUFTLEtBQU1lLEdBUHJCZixFQUFBLDRCQUFBLDBEQU1zQmtCLEVBQUFsQixHQUVqQkQsRUFGRGMsaUJBRU8sU0FBQUwsRUFBQU0sR0FBRSxHQUFBTixFQUNQUixFQUFBQSxFQUFTLFVBQ1YsQ0FUTCxJQUFBbUIsRUFBQUwsRUFBQU0sT0FBQSxTQUFBSCxHQUFBLE9BQUFBLEVBQUFJLGNBQUFILElBWURsQixFQUFBLEtBQUFtQiw0REFxQm9DRyxFQUFjdEIsR0FkakRELEVBQUFBLGlCQUFTYyxTQUFUTCxFQUEwQk0sR0FDeEIsR0FBQU4sRUFDRVIsRUFBQUEsRUFBQSxVQURGLENBSUUsSUFBTW1CLEVBQVVMLEVBQVlNLE9BQU8sU0FBQUgsR0FBQSxPQUFBQSxFQUFBSyxjQUFBQSxJQUFBdEIsRUFBQSxLQUFPcUIsc0VBeUJESCxFQUFTSSxFQUFjdEIsR0FFcEVELEVBQVNjLGlCQUFpQixTQUFDTCxFQUFPTSxHQUNoQyxHQUFJTixFQUNGUixFQUFTUSxFQUFPLFVBQ1gsQ0FwQlQsSUFBQVcsRUFBQUwsRUFDU0QsT0FBVGQsSUFDRW9CLEVBQVdBLEVBQUFDLE9BQUEsU0FBQUgsR0FBQSxPQUFBQSxFQUFBSSxjQUFBSCxLQUVKLE9BRlBJLElBR0VILEVBQUFBLEVBQUFDLE9BQUEsU0FBQUgsR0FBQSxPQUFBQSxFQUFBSyxjQUFBQSxLQUNtQ3RCLEVBQUEsS0FBT3NCLGlEQThCdEJ0QixHQUV4QkQsRUFBU2MsaUJBQWlCLFNBQUNMLEVBQU9NLEdBQ2hDLEdBQUlOLEVBQ0ZSLEVBQVNRLEVBQU8sVUFDWCxDQXhCVFQsSUFBQUEsRUFBU2MsRUFBa0JMLElBQUFBLFNBQURlLEVBQVFULEdBQVBOLE9BQU9NLEVBQWdCVSxHQUFBRixlQUU5Q3RCLEVBQUF5QixFQUFBTCxPQUFBLFNBQUFHLEVBQUFDLEdBQUEsT0FBQUMsRUFBQUMsUUFBQUgsSUFBQUMsSUFDRHhCLEVBQU0sS0FBQTJCLDRDQUtETCxHQUNGSCxFQUFBQSxpQkFBa0JDLFNBQUFBLEVBQU9OLEdBQUEsR0FBQU4sRUFBQVIsRUFBekJRLEVBQUEsVUFDRCxDQUVGLElBQUFvQixFQUFBZCxFQUFBZSxJQUFBLFNBQUFOLEVBQUFDLEdBQUEsT0FBQVYsRUFBQVUsR0FBQUgsZUFFSlMsRUFBQUYsRUFBQVIsT0FBQSxTQUFBRyxFQUFBQyxHQUFBLE9BQUFJLEVBQUFGLFFBQUFILElBQUFDLElBaUNLeEIsRUFBUyxLQUFNOEIsK0NBM0JuQmYsR0FDQWhCLE1BQUFBLG1CQUFBZ0IsRUFBMkJQLGlEQUtxQ2dCLEdBQXRCLE9BQXRDLE1BQXNCVCxFQUF0QmdCLFdBQUEscUJBQXNCLFFBQXRCaEIsRUFBQWdCLDBEQUlEaEIsRUFBQWMsR0ErQ0gsT0F4REEsSUFBQUcsT0FBQUMsS0FBQUMsT0FBQSxDQVdEQyxTQUFBcEIsRUFBQXFCLE9Bd0NHQyxNQUFPdEIsRUFBV3VCLEtBdEN0QkMsSUFBQXhDLEVBQUF5QyxpQkFBQXpCLEdBd0NJYyxJQUFLQSxFQUNMWSxVQUFXVCxPQUFPQyxLQUFLUyxVQUFVQyw0Q0ExSm5DLE1BQUEiLCJmaWxlIjoiZGJoZWxwZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvbW1vbiBkYXRhYmFzZSBoZWxwZXIgZnVuY3Rpb25zLlxuICovXG5jbGFzcyBEQkhlbHBlciB7XG5cbiAgLyoqXG4gICAqIERhdGFiYXNlIFVSTC5cbiAgICogQ2hhbmdlIHRoaXMgdG8gcmVzdGF1cmFudHMuanNvbiBmaWxlIGxvY2F0aW9uIG9uIHlvdXIgc2VydmVyLlxuICAgKi9cbiAgc3RhdGljIGdldCBEQVRBQkFTRV9VUkwoKSB7XG4gICAgY29uc3QgcG9ydCA9IDEzMzc7XG4gICAgcmV0dXJuIGBodHRwOi8vbG9jYWxob3N0OiR7cG9ydH0vcmVzdGF1cmFudHNgO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoIGFsbCByZXN0YXVyYW50cy5cbiAgICovXG4gIHN0YXRpYyBmZXRjaFJlc3RhdXJhbnRzKGNhbGxiYWNrKSB7XG4gICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHhoci5vcGVuKCdHRVQnLCBEQkhlbHBlci5EQVRBQkFTRV9VUkwpO1xuICAgIHhoci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7IC8vIEdvdCBhIHN1Y2Nlc3MgcmVzcG9uc2UgZnJvbSBzZXJ2ZXIhXG4gICAgICAgIGNvbnN0IGpzb24gPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICBjb25zdCByZXN0YXVyYW50cyA9IGpzb247XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3RhdXJhbnRzKTtcbiAgICAgIH0gZWxzZSB7IC8vIE9vcHMhLiBHb3QgYW4gZXJyb3IgZnJvbSBzZXJ2ZXIuXG4gICAgICAgIGNvbnN0IGVycm9yID0gKGBSZXF1ZXN0IGZhaWxlZC4gUmV0dXJuZWQgc3RhdHVzIG9mICR7eGhyLnN0YXR1c31gKTtcbiAgICAgICAgY2FsbGJhY2soZXJyb3IsIG51bGwpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB4aHIuc2VuZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoIGEgcmVzdGF1cmFudCBieSBpdHMgSUQuXG4gICAqL1xuICBzdGF0aWMgZmV0Y2hSZXN0YXVyYW50QnlJZChpZCwgY2FsbGJhY2spIHtcbiAgICAvLyBmZXRjaCBhbGwgcmVzdGF1cmFudHMgd2l0aCBwcm9wZXIgZXJyb3IgaGFuZGxpbmcuXG4gICAgREJIZWxwZXIuZmV0Y2hSZXN0YXVyYW50cygoZXJyb3IsIHJlc3RhdXJhbnRzKSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY2FsbGJhY2soZXJyb3IsIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcmVzdGF1cmFudCA9IHJlc3RhdXJhbnRzLmZpbmQociA9PiByLmlkID09IGlkKTtcbiAgICAgICAgaWYgKHJlc3RhdXJhbnQpIHsgLy8gR290IHRoZSByZXN0YXVyYW50XG4gICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdGF1cmFudCk7XG4gICAgICAgIH0gZWxzZSB7IC8vIFJlc3RhdXJhbnQgZG9lcyBub3QgZXhpc3QgaW4gdGhlIGRhdGFiYXNlXG4gICAgICAgICAgY2FsbGJhY2soJ1Jlc3RhdXJhbnQgZG9lcyBub3QgZXhpc3QnLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoIHJlc3RhdXJhbnRzIGJ5IGEgY3Vpc2luZSB0eXBlIHdpdGggcHJvcGVyIGVycm9yIGhhbmRsaW5nLlxuICAgKi9cbiAgc3RhdGljIGZldGNoUmVzdGF1cmFudEJ5Q3Vpc2luZShjdWlzaW5lLCBjYWxsYmFjaykge1xuICAgIC8vIEZldGNoIGFsbCByZXN0YXVyYW50cyAgd2l0aCBwcm9wZXIgZXJyb3IgaGFuZGxpbmdcbiAgICBEQkhlbHBlci5mZXRjaFJlc3RhdXJhbnRzKChlcnJvciwgcmVzdGF1cmFudHMpID0+IHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjYWxsYmFjayhlcnJvciwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGaWx0ZXIgcmVzdGF1cmFudHMgdG8gaGF2ZSBvbmx5IGdpdmVuIGN1aXNpbmUgdHlwZVxuICAgICAgICBjb25zdCByZXN1bHRzID0gcmVzdGF1cmFudHMuZmlsdGVyKHIgPT4gci5jdWlzaW5lX3R5cGUgPT0gY3Vpc2luZSk7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdHMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoIHJlc3RhdXJhbnRzIGJ5IGEgbmVpZ2hib3Job29kIHdpdGggcHJvcGVyIGVycm9yIGhhbmRsaW5nLlxuICAgKi9cbiAgc3RhdGljIGZldGNoUmVzdGF1cmFudEJ5TmVpZ2hib3Job29kKG5laWdoYm9yaG9vZCwgY2FsbGJhY2spIHtcbiAgICAvLyBGZXRjaCBhbGwgcmVzdGF1cmFudHNcbiAgICBEQkhlbHBlci5mZXRjaFJlc3RhdXJhbnRzKChlcnJvciwgcmVzdGF1cmFudHMpID0+IHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjYWxsYmFjayhlcnJvciwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGaWx0ZXIgcmVzdGF1cmFudHMgdG8gaGF2ZSBvbmx5IGdpdmVuIG5laWdoYm9yaG9vZFxuICAgICAgICBjb25zdCByZXN1bHRzID0gcmVzdGF1cmFudHMuZmlsdGVyKHIgPT4gci5uZWlnaGJvcmhvb2QgPT0gbmVpZ2hib3Job29kKTtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0cyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggcmVzdGF1cmFudHMgYnkgYSBjdWlzaW5lIGFuZCBhIG5laWdoYm9yaG9vZCB3aXRoIHByb3BlciBlcnJvciBoYW5kbGluZy5cbiAgICovXG4gIHN0YXRpYyBmZXRjaFJlc3RhdXJhbnRCeUN1aXNpbmVBbmROZWlnaGJvcmhvb2QoY3Vpc2luZSwgbmVpZ2hib3Job29kLCBjYWxsYmFjaykge1xuICAgIC8vIEZldGNoIGFsbCByZXN0YXVyYW50c1xuICAgIERCSGVscGVyLmZldGNoUmVzdGF1cmFudHMoKGVycm9yLCByZXN0YXVyYW50cykgPT4ge1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNhbGxiYWNrKGVycm9yLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCByZXN1bHRzID0gcmVzdGF1cmFudHM7XG4gICAgICAgIGlmIChjdWlzaW5lICE9ICdhbGwnKSB7IC8vIGZpbHRlciBieSBjdWlzaW5lXG4gICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuZmlsdGVyKHIgPT4gci5jdWlzaW5lX3R5cGUgPT0gY3Vpc2luZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5laWdoYm9yaG9vZCAhPSAnYWxsJykgeyAvLyBmaWx0ZXIgYnkgbmVpZ2hib3Job29kXG4gICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuZmlsdGVyKHIgPT4gci5uZWlnaGJvcmhvb2QgPT0gbmVpZ2hib3Job29kKTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHRzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBhbGwgbmVpZ2hib3Job29kcyB3aXRoIHByb3BlciBlcnJvciBoYW5kbGluZy5cbiAgICovXG4gIHN0YXRpYyBmZXRjaE5laWdoYm9yaG9vZHMoY2FsbGJhY2spIHtcbiAgICAvLyBGZXRjaCBhbGwgcmVzdGF1cmFudHNcbiAgICBEQkhlbHBlci5mZXRjaFJlc3RhdXJhbnRzKChlcnJvciwgcmVzdGF1cmFudHMpID0+IHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjYWxsYmFjayhlcnJvciwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBHZXQgYWxsIG5laWdoYm9yaG9vZHMgZnJvbSBhbGwgcmVzdGF1cmFudHNcbiAgICAgICAgY29uc3QgbmVpZ2hib3Job29kcyA9IHJlc3RhdXJhbnRzLm1hcCgodiwgaSkgPT4gcmVzdGF1cmFudHNbaV0ubmVpZ2hib3Job29kKTtcbiAgICAgICAgLy8gUmVtb3ZlIGR1cGxpY2F0ZXMgZnJvbSBuZWlnaGJvcmhvb2RzXG4gICAgICAgIGNvbnN0IHVuaXF1ZU5laWdoYm9yaG9vZHMgPSBuZWlnaGJvcmhvb2RzLmZpbHRlcigodiwgaSkgPT4gbmVpZ2hib3Job29kcy5pbmRleE9mKHYpID09IGkpO1xuICAgICAgICBjYWxsYmFjayhudWxsLCB1bmlxdWVOZWlnaGJvcmhvb2RzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBhbGwgY3Vpc2luZXMgd2l0aCBwcm9wZXIgZXJyb3IgaGFuZGxpbmcuXG4gICAqL1xuICBzdGF0aWMgZmV0Y2hDdWlzaW5lcyhjYWxsYmFjaykge1xuICAgIC8vIEZldGNoIGFsbCByZXN0YXVyYW50c1xuICAgIERCSGVscGVyLmZldGNoUmVzdGF1cmFudHMoKGVycm9yLCByZXN0YXVyYW50cykgPT4ge1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNhbGxiYWNrKGVycm9yLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEdldCBhbGwgY3Vpc2luZXMgZnJvbSBhbGwgcmVzdGF1cmFudHNcbiAgICAgICAgY29uc3QgY3Vpc2luZXMgPSByZXN0YXVyYW50cy5tYXAoKHYsIGkpID0+IHJlc3RhdXJhbnRzW2ldLmN1aXNpbmVfdHlwZSk7XG4gICAgICAgIC8vIFJlbW92ZSBkdXBsaWNhdGVzIGZyb20gY3Vpc2luZXNcbiAgICAgICAgY29uc3QgdW5pcXVlQ3Vpc2luZXMgPSBjdWlzaW5lcy5maWx0ZXIoKHYsIGkpID0+IGN1aXNpbmVzLmluZGV4T2YodikgPT0gaSk7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHVuaXF1ZUN1aXNpbmVzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXN0YXVyYW50IHBhZ2UgVVJMLlxuICAgKi9cbiAgc3RhdGljIHVybEZvclJlc3RhdXJhbnQocmVzdGF1cmFudCkge1xuICAgIHJldHVybiAoYC4vcmVzdGF1cmFudD9pZD0ke3Jlc3RhdXJhbnQuaWR9YCk7XG4gIH1cblxuICAvKipcbiAgICogUmVzdGF1cmFudCBpbWFnZSBVUkwuXG4gICAqL1xuICBzdGF0aWMgaW1hZ2VVcmxGb3JSZXN0YXVyYW50KHJlc3RhdXJhbnQpIHtcbiAgICByZXR1cm4gcmVzdGF1cmFudC5waG90b2dyYXBoID09IG51bGwgPyAnL2ltZy9taXNzaW5nLWltYWdlJyA6IChgL2ltZy8ke3Jlc3RhdXJhbnQucGhvdG9ncmFwaH1gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYXAgbWFya2VyIGZvciBhIHJlc3RhdXJhbnQuXG4gICAqL1xuICBzdGF0aWMgbWFwTWFya2VyRm9yUmVzdGF1cmFudChyZXN0YXVyYW50LCBtYXApIHtcbiAgICBjb25zdCBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcbiAgICAgIHBvc2l0aW9uOiByZXN0YXVyYW50LmxhdGxuZyxcbiAgICAgIHRpdGxlOiByZXN0YXVyYW50Lm5hbWUsXG4gICAgICB1cmw6IERCSGVscGVyLnVybEZvclJlc3RhdXJhbnQocmVzdGF1cmFudCksXG4gICAgICBtYXA6IG1hcCxcbiAgICAgIGFuaW1hdGlvbjogZ29vZ2xlLm1hcHMuQW5pbWF0aW9uLkRST1B9XG4gICAgKTtcbiAgICByZXR1cm4gbWFya2VyO1xuICB9XG5cbn1cbiJdfQ==
